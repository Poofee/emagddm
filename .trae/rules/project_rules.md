# 低频电磁有限元（A-φ法）+FETI-DP区域分解求解代码框架 - 核心原则

本文档为项目开发的核心原则，详细规范请参考 `docs/` 目录下的相应文档。

## 核心开发原则

**模块化、解耦化、工程化、标准化**，优先保证代码正确性（算法逻辑、数值精度），再追求效率优化与功能扩展。

### 1. 开发范围
- 严格按照前期制定的7个开发阶段推进
- 先完成核心功能（2D稳态串行版FETI-DP），再逐步扩展3D/瞬态/并行/优化功能
- 不提前开发扩展项，不遗漏核心项

### 2. 技术栈约束
- 仅使用前期指定的第三方库（Eigen 3.4+、SuperLU 5.3+等）
- 禁止引入任何未指定的小众库、商业库
- 如需替换库，需优先保证"轻量、开源、C++原生、可直接集成"

### 3. 兼容性要求
- 代码需支持 Linux（GCC 9+）/ Windows（MSVC 2019+）跨平台编译
- 基于 CMake 3.20+ 管理工程
- 禁止使用平台专属语法、编译器专属特性

### 4. 优先级要求
算法正确性 > 代码规范性 > 效率优化 > 功能扩展

### 5. 禁止行为
- 禁止硬编码（所有可配置参数均需支持JSON配置）
- 禁止全局变量（除FETI-DP全局上下文结构体）
- 禁止代码冗余（重复逻辑封装为工具函数）
- 禁止不写注释
- 禁止内存泄漏

## 详细规范参考

详细的技术规范请查阅 `docs/` 目录下的相应文档：

- [编码风格规范](docs/coding_style.md)
- [内存管理规范](docs/memory_management.md)
- [目录与文件规范](docs/directory_structure.md)
- [命名规范](docs/naming_conventions.md)
- [注释规范](docs/commenting_guidelines.md)
- [第三方库集成规范](docs/third_party_libraries.md)
- [开发流程规范](docs/development_workflow.md)
- [交付物规范](docs/deliverables_requirements.md)
- [调试与日志规范](docs/debugging_logging.md)
- [头文件规范](docs/header_inclusion_guidelines.md)
## 补充说明

### 算法一致性
FETI-DP核心算法需严格贴合前期制定的逻辑，确保求解结果与全域直接求解结果的相对误差<1%。

### 并行适配
MPI+OpenMP混合并行开发时，需确保子域规模均衡，避免负载不均衡，并行效率≥70%（中规模问题）。

### 可扩展性
框架需预留非线性磁滞、GPU加速、频域场景的扩展接口，接口设计需标准化，便于后续扩展。

### 规范冲突处理
若本规范与前期开发计划存在冲突，优先遵循开发计划；若存在规范未覆盖的场景，按"可读性、可维护性、可编译性"原则自行规范，并添加注释说明。

---

**需全程严格遵循本规范，确保开发的代码框架规范、高效、可落地，交付物完整、可验收。**