# 电磁模块（对标Maxwell）核心功能头脑风暴

聚焦**低频电磁为主、预留高频扩展**，完全对齐Maxwell核心功能体系，覆盖**静电/静磁/瞬态磁（含涡流）、2D/3D/轴对称、全材料/全边界、Maxwell工程化特性、Project文件全链路IO**，同时贴合现有有限元框架（DOF管理/稀疏矩阵/求解器/FETI-DP）做模块化解耦，兼顾**功能完整性、工程易用性、框架兼容性、可扩展性**四大核心，整体遵循「**统一架构底座+分域解耦实现+Maxwell规范对齐+框架无缝对接**」设计原则，避免庞大功能带来的代码冗余与耦合。

## 核心设计总原则（约束庞大功能的底层逻辑）

1. **维度统一抽象**：2D/3D/2D轴对称做底层抽象层封装，上层仅做维度适配，核心有限元逻辑（离散/积分/DOF）完全复用，杜绝维度硬编码；

2. **场型解耦封装**：静电/静磁/瞬态磁（涡流）的核心控制方程、离散逻辑、求解适配封装为独立场模块，通过统一接口调用，支持单场/多场切换；

3. **Maxwell规范对齐**：材料属性、边界条件、场量定义、Project文件核心节点、后处理结果完全对齐Maxwell，降低用户迁移/使用成本；

4. **框架深度融合**：所有电磁功能均围绕现有框架展开，材料/边界对接DOF约束、场离散对接稀疏矩阵组装、求解对接自研/第三方求解器，不独立实现底层有限元逻辑；

5. **工程化优先**：提供**Maxwell风格的默认参数、可视化预览、配置化管理、批量处理**，屏蔽底层有限元细节（如单元类型、DOF映射），面向工程用户而非纯研发；

6. **可扩展预留**：低频基础上预留**高频电磁、多物理场耦合（电磁-热/结构/流体）、参数化优化**接口，适配后续功能扩展；

7. **并行全适配**：所有功能均支持串行/OpenMP/MPI/FETI-DP，与现有并行框架无缝联动，维度/场型不影响并行模式选择。

## 一、核心场型求解功能（对标Maxwell核心求解，覆盖静电/静磁/瞬态磁）

以**低频电磁控制方程**为核心，分场型封装离散与求解逻辑，每个场型适配对应维度/单元类型/矩阵类型，直接对接现有稀疏矩阵与求解器模块，是电磁模块的核心能力，完全覆盖Maxwell低频核心场型。

### 1. 静电场（Electrostatic）

- **适配维度**：2D/3D/2D轴对称（Maxwell高频使用轴对称简化计算）

- **核心方程**：泊松方程  $\nabla·(\varepsilon\nabla\phi)=-\rho$  / 拉普拉斯方程（无自由电荷）

- **有限元离散**：**标量元（节点DOF）**，电位 $\phi$ 为场变量，适配现有标量DOF管理

- **核心特性**：实对称正定矩阵，直接对接自研CG/ILU(0)或第三方SuperLU求解器，计算效率最高

- **工程求解目标**：电位分布、电场强度E、电位移D、静电能、电容（单导体/多导体电容提取，Maxwell核心工程功能）、电场通量

- **框架对接**：稀疏矩阵组装为实对称CSR/块CSR，边界条件对接Dirichlet/Neumann约束，无需修改现有求解逻辑

### 2. 静磁场（Magnetostatic）

Maxwell静磁场的**双势法适配**，分**无电流/弱电流**和**有电流/高磁导率**场景，是低频电磁最核心的场型，需兼顾精度与效率：

- **适配维度**：2D/3D/2D轴对称

- **核心方程**：静磁泊松方程  $\nabla×(\nu\nabla×\vec{A})=\vec{J}$ （矢量磁势 $\vec{A}$ ）、标量磁势 $\phi_m$ （无电流区域简化）

- **有限元离散**：2D用**标量元（节点DOF）**，3D用**矢量元（棱边DOF）**（规避标量元的伪解问题），完全对接现有边DOF管理模块

- **核心特性**：无电流为实对称正定矩阵，有电流为非对称实矩阵，含铁磁材料时为**非线性矩阵**（B-H曲线）

- **工程求解目标**：磁通密度B、磁场强度H、矢量磁势A、磁通量、电感（自感/互感提取，Maxwell核心）、磁场能、电磁力（麦克斯韦应力张量法，工程必备）

- **框架对接**：非线性求解联动现有迭代求解器，采用**牛顿-拉夫逊法**迭代，预处理适配块ILU(0)（3D矢量元），FETI-DP适配分布式子域磁势约束

### 3. 瞬态磁场/涡流场（Transient Magnetics / Eddy Current）

对标Maxwell**瞬态求解+涡流效应**，覆盖时变磁场下的涡流、集肤效应、邻近效应，是工业级电磁设计的核心场景（如电机、变压器、感应加热）：

- **适配维度**：2D/3D/2D轴对称

- **核心方程**：麦克斯韦旋度方程  $\nabla×(\nu\nabla×\vec{A}) + \sigma\frac{\partial\vec{A}}{\partial t} = \vec{J_s}$ （耦合涡流项）

- **有限元离散**：全维度**矢量元（棱边DOF）**，场变量为矢量磁势 $\vec{A}$ +标量电位 $\phi$ （A-φ法，规避电流散度问题）

- **核心特性**：**时变复矩阵/稀疏微分矩阵**，时间域离散为常微分方程，空间域为有限元离散

- **关键设计**：

    1. 时间步长策略：支持**定步长/自适应步长**（欧拉法、龙格-库塔法RK4，Maxwell主流），根据场量变化率自动调整步长；

    2. 涡流效应控制：支持开启/关闭涡流，电导率 $\sigma=0$ 时自动退化为静磁场，无需额外代码；

    3. 激励源时变：支持正弦、方波、三角波、自定义时变激励（电流/电压源），对接Maxwell激励类型；

- **工程求解目标**：瞬态磁通/磁场分布、涡流损耗（铁损/铜损，工程核心指标）、时变电磁力/力矩、集肤效应深度、暂态过程分析

- **框架对接**：时间域迭代对接现有求解器循环，空间域组装为复块稀疏矩阵，分布式求解适配MPI+FETI-DP，第三方求解器适配MUMPS（擅长复非对称矩阵）

## 二、2D/3D/2D轴对称 全维度统一适配功能

彻底解决维度带来的代码冗余问题，设计**维度抽象层（DimensionAbstraction）**，封装所有维度相关的几何、单元、积分、DOF逻辑，上层场模块仅需传入维度标识（2D/3D/AXIS），即可自动适配，核心做到「**维度无关调用，底层维度适配**」。

### 1. 维度核心抽象能力

- 统一几何接口：支持2D（面/线）、3D（体/面/线）、轴对称（旋转面）的几何模型导入/创建，封装几何布尔操作（并/交/差），对接主流网格格式（STL/STEP/IGES，Maxwell支持）；

- 统一单元库：内置Maxwell同款有限元单元库，自动根据维度分配单元类型：

    - 2D/轴对称：三角形（线性/二次）、四边形（线性/二次）标量/矢量元；

    - 3D：四面体（线性/二次）、六面体（线性/二次）标量/矢量元；

- 统一积分逻辑：封装2D（面积分/线积分）、3D（体积分/面积分）、轴对称（旋转积分）的高斯积分公式，自动根据单元类型选择积分阶数，上层无需关注积分细节；

- 统一DOF映射：维度抽象层自动将场变量（标量电位/矢量磁势）映射为对应维度的DOF（节点/棱边），对接现有DOF管理模块，实现「场型+维度」的DOF自动分配。

### 2. 2D轴对称专属优化（Maxwell高频工程特性）

针对电机、变压器等**旋转对称结构**，单独做轴对称适配，将3D旋转问题简化为2D平面问题，计算量降低80%以上，是工程化必备：

- 自动旋转坐标转换：将圆柱坐标下的控制方程转换为2D直角坐标，核心参数（如磁通量、电磁力）自动做旋转积分还原为3D结果；

- 轴对称边界自动识别：识别旋转轴（Z轴/X轴），自动应用轴对称边界约束，无需用户手动配置；

- 3D结果自动还原：后处理时将2D计算结果自动生成为3D旋转云图/矢量图，与Maxwell轴对称结果展示一致。

### 3. 维度无缝切换能力

用户仅需在配置文件/接口中修改**dimension: 2D/3D/AXIS**，无需修改其他代码，模块自动完成：

- 几何模型的维度适配（2D面→3D体/轴对称旋转面）；

- 单元类型的自动分配；

- 积分逻辑的自动切换；

- DOF映射与稀疏矩阵组装的维度适配；

- 后处理结果的维度展示。

## 三、全类型材料属性管理功能（对标Maxwell材料库，覆盖工程所有材料特性）

材料是电磁计算的基础，设计**材料管理模块（MaterialManager）**，实现「**标准库内置+自定义扩展+多属性适配+区域精准赋值**」，完全对齐Maxwell材料属性定义，支持**线性/非线性/各向同性/各向异性/温度相关**全类型材料，同时提供材料参数单位自动转换（Maxwell国际单位/工程单位）。

### 1. 核心材料属性体系（对齐Maxwell，分场型适配）

按场型划分核心属性，模块自动根据当前场型加载对应属性，无需用户手动筛选：

|场型|核心属性|辅助属性|
|---|---|---|
|静电场|相对介电常数 $\varepsilon_r$ 、电导率 $\sigma$ |击穿场强、介电损耗角正切|
|静磁场|相对磁导率 $\mu_r$ 、电导率 $\sigma$ |饱和磁通密度、居里温度|
|瞬态磁场|相对磁导率 $\mu_r$ 、电导率 $\sigma$ 、电阻率 $\rho$ |铁损参数（Steinmetz方程）、集肤系数|
- 内置**Maxwell标准材料库**：包含铜、铝、铁、硅钢、永磁体（钕铁硼N35/N52、铁氧体）、空气、绝缘材料等工程常用材料，参数与Maxwell完全一致，用户可直接调用；

- 永磁体专属支持：对齐Maxwell永磁体建模，支持**径向/切向/平行充磁**，自动将充磁方向转换为有限元计算的磁势约束，无需用户手动推导。

### 2. 全材料特性支持（覆盖工程所有场景）

- **线性/非线性**：线性材料直接调用常数参数，非线性材料（如硅钢、铁）支持导入**B-H曲线/磁化曲线**（Maxwell格式*.dat/*.txt），模块自动采用**线性插值/样条插值**实现非线性迭代，联动求解器的牛顿-拉夫逊法；

- **各向同性/各向异性**：支持各向同性（参数为标量）、各向异性（参数为矩阵，如定向硅钢的磁导率张量），自动将各向异性参数融入有限元刚度矩阵组装，无需修改核心离散逻辑；

- **温度相关材料**：预留**电磁-热耦合接口**，支持材料参数随温度变化（如电导率/磁导率温度系数），温度场数据可从外部热模块导入，实现参数动态更新；

- **时变材料**：支持材料参数随时间变化（如电加热过程中的材料属性变化），对接瞬态磁场的时间步长，实现时变参数迭代。

### 3. 材料工程化管理能力

- **材料赋值**：支持按**几何区域/单元组/面/线**精准赋值材料，支持多区域多材料叠加，模块自动建立「几何ID-材料ID」映射表，稀疏矩阵组装时直接调用；

- **材料编辑**：支持用户自定义材料（命名、参数、特性），保存为本地材料库，支持导入/导出材料库（Maxwell格式兼容）；

- **参数校验**：自动校验材料参数合法性（如磁导率>0、介电常数>0），非法参数直接抛出异常并提示参考值（如空气介电常数1.0）；

- **单位统一**：支持Maxwell常用单位（如高斯、奥斯特、兆帕）与国际单位（特斯拉、安培/米）的自动转换，用户可自由选择单位体系，模块底层统一按国际单位计算。

## 四、全场景边界条件+激励源功能（对标Maxwell，覆盖电磁所有约束与激励）

设计**边界条件管理模块（BoundaryManager）**+**激励源管理模块（ExcitationManager）**，两者联动对接现有DOF约束接口，实现「**边界/激励可视化配置+自动转换为有限元约束+无缝融入矩阵组装**」，所有边界/激励类型完全对齐Maxwell，支持**通用边界+场专属边界+自定义边界**，同时提供默认边界（如空气域远场自动设为磁绝缘），降低用户操作成本。

### 1. 通用边界条件（所有场型通用，对接DOF核心约束）

对齐Maxwell基础边界，自动转换为Dirichlet/Neumann约束，直接融入DOF管理：

- **狄利克雷边界（Dirichlet）**：电位/磁势固定值（如静电场0电位、静磁场0磁势），支持常数/函数赋值；

- **诺依曼边界（Neumann）**：场量法向导数固定（如静电场电通量为0、静磁场磁通量为0），即绝缘/磁绝缘边界，Maxwell默认边界；

- **周期性边界（Periodic）**：支持平移/旋转周期性，对接现有DOF周期性映射，适配电机定转子等周期结构，自动融合FETI-DP主从边界约束；

- **对称边界（Symmetric）**：支持奇对称/偶对称，自动简化计算模型，减少DOF数量，工程常用简化手段；

- **远场边界（Far-Field）**：针对无限域问题（如天线、永磁体），自动设置吸收边界，避免反射误差，对接Maxwell远场建模。

### 2. 场专属边界条件（按场型定制，Maxwell核心工程边界）

模块自动根据当前场型加载专属边界，无需用户筛选，直接对接场核心计算逻辑：

|场型|专属边界条件|工程应用场景|
|---|---|---|
|静电场|浮动电位、击穿边界、电荷边界|电容器、高压设备|
|静磁场|磁通量边界、永磁体充磁边界、磁阻边界|电机、变压器、永磁体设备|
|瞬态磁场|涡流边界、辐射边界、集肤边界|感应加热、高频变压器、电机启动|
### 3. 全类型激励源支持（对齐Maxwell，覆盖所有电磁激励）

激励源是电磁计算的输入，支持**区域激励+边界激励+时变激励**，所有激励参数（幅值、频率、相位、波形）可灵活配置，对接瞬态磁场的时间步长，实现时变激励迭代：

- **电流源**：体电流（如线圈）、面电流（如导体表面）、线电流，支持直流/交流/时变电流，适配Maxwell线圈建模（多匝线圈自动计算安匝值）；

- **电压源**：边界电压、区域电压，支持直流/交流/时变电压，自动转换为电位约束；

- **磁通源**：固定磁通量输入，适配变压器铁芯磁通激励；

- **时变激励波形**：内置正弦、方波、三角波、锯齿波，支持用户导入自定义波形（*.dat/*.txt），对接瞬态磁场的时间步长，实现激励随时间变化；

- **线圈专属建模**：对齐Maxwell**线圈建模功能**，支持多匝线圈、分层线圈、环形线圈，自动计算线圈的电阻/电感，无需用户手动推导等效参数。

### 4. 边界/激励工程化能力

- **可视化配置**：预留GUI接口，支持在几何模型上直接选择面/线/区域，可视化添加边界/激励，参数实时预览；

- **自动约束转换**：所有边界/激励无需用户手动转换为有限元约束，模块自动将其转换为DOF的Dirichlet/Neumann约束或矩阵源项，直接融入稀疏矩阵组装；

- **约束冲突检测**：自动检测同一区域的边界/激励冲突（如同一面同时设置0电位和电压源），抛出异常并提示冲突位置；

- **默认配置**：对未手动设置的区域，模块自动应用默认边界（如空气域设为远场/磁绝缘，导体域设为涡流边界），降低用户操作成本。

## 五、Maxwell Project文件全链路IO功能（对标Maxwell项目管理，实现导入/导出/保存/加载）

解决Maxwell用户的项目迁移问题，设计**项目文件管理模块（ProjectManager）**，实现**Maxwell Project文件兼容+自定义项目文件全功能**，支持Maxwell项目的**核心信息解析+框架配置自动生成+自定义项目文件保存/加载**，做到「Maxwell项目一键导入，框架直接求解」，同时支持自定义项目文件的批量处理，提升工程效率。

### 1. Maxwell Project文件兼容解析（核心能力）

Maxwell原生项目文件为*.mxwl（3D）/*.mxwl2d（2D），底层为二进制+XML混合格式，直接解析难度大，采用「**Maxwell导出+框架解析**」的工程化方案（Maxwell官方支持导出XML/文本格式），实现核心信息无损解析：

- **解析核心内容**：几何模型（含拓扑结构）、材料赋值（几何ID-材料ID映射）、边界条件/激励源（位置+参数）、场型配置（静电/静磁/瞬态）、维度配置（2D/3D/轴对称）、求解参数（收敛精度/迭代次数/时间步长）、网格划分参数；

- **自动格式转换**：将解析的Maxwell信息自动转换为框架的**JSON/YAML配置文件**，自动初始化电磁模块的所有参数，用户无需手动配置，直接点击求解即可；

- **缺失信息补全**：对Maxwell中未设置的参数（如求解器类型、预处理类型），模块自动填充框架默认参数（如CG+ILU(0)），并提示用户可修改。

### 2. 自定义项目文件全功能（框架原生支持）

设计框架专属的项目文件格式（*.emf，ElectroMagnetic Framework），基于XML/JSON实现，兼容Maxwell核心信息，支持**全信息保存/加载/修改/批量导入**：

- **全信息保存**：保存项目的所有信息（几何/材料/边界/激励/场型/维度/求解参数/网格/计算结果），实现「一次配置，多次求解」；

- **增量修改**：支持加载项目文件后，仅修改部分参数（如激励幅值、材料参数），无需重新配置所有内容；

- **批量处理**：支持批量导入/加载项目文件，实现多算例批量求解（如电机不同转速、不同激励的批量计算），提升工程效率；

- **结果关联**：项目文件与后处理结果自动关联，加载项目文件时可直接查看历史求解结果，支持结果对比。

### 3. 辅助文件IO能力

- **网格文件兼容**：支持导入/导出Maxwell常用网格格式（STL/STEP/IGES/Mesh），对接主流网格划分软件（Gmsh/ANSYS Meshing），实现网格与项目文件的联动；

- **结果文件导出**：支持将求解结果导出为Maxwell兼容格式（*.rst/*.dat），可在Maxwell中打开后处理，实现框架与Maxwell的结果互通；

- **日志文件保存**：将求解过程日志（迭代次数/残差/耗时/异常）自动保存到项目文件，方便问题排查与工程追溯。

## 六、工程化前处理辅助功能（对标Maxwell前处理，降低使用门槛）

电磁模块的前处理是工程用户的核心痛点，设计**前处理模块（PreProcessor）**，提供**几何修复/网格划分/DOF预览/参数校验**等工程化功能，屏蔽底层有限元细节，让用户聚焦工程设计，而非有限元实现。

### 1. 几何模型处理

- **几何修复**：自动修复导入几何的拓扑缺陷（如面重叠/边间隙/体空洞），避免网格划分失败，对标Maxwell几何修复功能；

- **几何简化**：支持几何倒角/圆角删除、小面合并、体简化，减少网格数量与计算量，工程常用简化手段；

- **几何分组**：支持将几何按功能分组（如电机定子/转子/线圈），方便材料/边界批量赋值。

### 2. 自动化网格划分（对接主流网格器）

内置**轻量级网格划分引擎**，同时对接Gmsh/ANSYS Meshing等主流网格器，实现「**自动化网格+手动精细网格**」双重支持，对齐Maxwell网格划分功能：

- **自动化网格**：根据几何尺寸、场型、材料自动划分网格，对高梯度区域（如线圈、永磁体、涡流区域）自动加密，对低梯度区域（如空气域）自动稀疏，兼顾精度与效率；

- **手动精细网格**：支持按几何区域/面/线手动设置网格尺寸、加密等级，支持边界层网格（适配涡流集肤效应）；

- **网格质量校验**：自动校验网格质量（单元翘曲度/Aspect Ratio），质量不达标时自动优化或提示用户，避免求解发散。

### 3. 前处理预览与校验

- **DOF/矩阵预览**：支持预览DOF数量、稀疏矩阵非零元数量，提前预估计算量与内存占用，方便用户选择并行模式；

- **材料/边界预览**：在几何模型上可视化展示材料赋值、边界/激励位置，支持颜色区分，方便用户检查配置正确性；

- **全参数校验**：求解前自动校验所有参数（材料/边界/激励/网格/求解参数），非法参数/缺失配置直接提示并给出解决方案，避免求解过程中异常。

## 七、Maxwell风格后处理与结果分析功能（对标Maxwell后处理，聚焦工程指标）

电磁计算的最终目标是**工程指标分析**，而非单纯的场量计算，设计**后处理模块（PostProcessor）**，完全对标Maxwell后处理功能，提供**场量可视化/工程指标计算/结果导出/曲线分析**，支持**云图/矢量图/等值线/曲线图**，所有操作贴合Maxwell用户习惯。

### 1. 全场量可视化（对接VTK/Paraview，支持3D交互）

- **云图展示**：电位、磁势、磁通密度B、磁场强度H、电场强度E、涡流密度、温度（耦合场）等场量的云图展示，支持颜色映射、透明度调整、切面/剖面查看（如电机轴向/径向剖面）；

- **矢量图展示**：B、H、E、涡流密度等矢量场的箭头图展示，支持箭头大小/密度调整，直观展示场量方向与大小；

- **等值线/等值面展示**：场量的等值线（2D）/等值面（3D）展示，支持提取特定场量值的等值线/面（如磁通密度1.5T的等值面）；

- **3D交互**：支持模型旋转/平移/缩放、局部放大、隐藏/显示几何区域，对标Maxwell 3D后处理交互体验。

### 2. 核心工程指标自动计算（Maxwell核心，无需用户手动推导）

模块自动从解向量中提取工程指标，直接输出数值结果，避免用户手动积分/计算，覆盖电机、变压器、永磁体设备的所有核心指标：

- **静电场**：电容、静电能、电场通量、击穿风险评估；

- **静磁场**：电感（自感/互感）、磁通量、磁场能、电磁力/力矩（麦克斯韦应力张量法/虚功法）、永磁体退磁风险评估；

- **瞬态磁场**：涡流损耗（铁损/铜损/总损耗）、时变电磁力/力矩、平均损耗/峰值损耗、集肤效应深度、暂态过程曲线（如磁通随时间变化）；

- **损耗计算**：内置**Steinmetz铁损模型**，自动计算硅钢等铁磁材料的磁滞损耗+涡流损耗，对齐Maxwell铁损计算。

### 3. 结果分析与导出

- **曲线分析**：支持提取场量/工程指标随时间/位置/频率的变化曲线（如磁通随时间变化、电磁力随转子角度变化），支持曲线放大/缩小/对比，支持导出为Excel/Matlab格式；

- **结果统计**：自动统计场量/工程指标的最大值/最小值/平均值/中位值，标注位置坐标，方便工程优化；

- **多算例对比**：支持加载多个项目文件的结果，实现多算例（不同材料/不同激励/不同结构）的场量/工程指标对比，直观展示优化效果；

- **通用格式导出**：支持将后处理结果导出为VTK/Paraview/Maxwell/Excel/Matlab格式，方便后续分析与报告撰写。

## 八、扩展功能预留（低频基础上，适配未来工程需求）

在现有低频电磁功能基础上，预留**高频电磁、多物理场耦合、参数化优化**三大核心扩展接口，无需修改现有核心架构，仅需新增模块即可实现功能扩展，兼顾当前需求与未来发展。

### 1. 高频电磁扩展接口

预留**时谐磁场/微波工程**接口，支持求解高频电磁问题（如天线、微波器件），核心适配：

- 时谐麦克斯韦方程（亥姆霍兹方程）；

- 高频边界条件（吸收边界、阻抗边界）；

- 高频场量计算（S参数、驻波比、辐射方向图）。

### 2. 多物理场耦合接口

预留**电磁-热、电磁-结构、电磁-流体**耦合接口，实现多物理场协同求解，对接现有热/结构/流体有限元模块，核心支持：

- 单向耦合：电磁损耗→热场→材料参数变化→电磁场迭代；

- 双向耦合：电磁力→结构变形→几何变化→电磁场迭代；

- 耦合数据联动：各物理场数据通过统一数据池实现实时交互，无需手动导入/导出。

### 3. 参数化优化接口

预留**参数化扫描/优化设计**接口，对接主流优化算法（遗传算法、粒子群算法、梯度下降法），实现电磁设备的自动化优化设计：

- 支持参数化变量（如结构尺寸、激励幅值、材料参数）；

- 支持优化目标（如最小损耗、最大电磁力、最高效率）；

- 支持约束条件（如磁通密度不超过饱和值、损耗不超过阈值）；

- 自动批量求解参数化算例，输出优化结果与最优参数组合。

## 九、与现有有限元框架的无缝对接（核心保障，避免重复开发）

所有电磁功能均围绕现有框架展开，不独立实现底层有限元逻辑，通过**适配层（ElectroMagAdapter）**实现与现有模块的无缝联动，核心对接点如下：

1. **与DOF管理模块**：材料/边界/激励自动转换为DOF约束，维度/场型自动分配DOF类型（节点/棱边），对接DOF分域/周期性映射/FETI-DP界面DOF；

2. **与稀疏矩阵模块**：场离散逻辑直接调用稀疏矩阵组装接口，自动根据场型/维度/材料组装为实/复/标量/块稀疏矩阵，对接COO/CSR/分布式矩阵存储；

3. **与求解器模块**：统一调用求解器接口（solve/set_param/get_result），自动根据场型选择自研/第三方求解器（如静电场选SuperLU，瞬态磁场选MUMPS），对接MPI+OpenMP+FETI-DP并行模式；

4. **与内存/计时模块**：所有向量/矩阵通过内存管理模块预分配，所有求解/前处理/后处理步骤通过计时模块统计耗时，对接缓存行对齐/负载均衡；

5. **与并行模块**：电磁模块所有功能均支持串行/OpenMP/MPI/FETI-DP，并行模式由框架统一控制，电磁模块无需关注并行细节。

## 核心设计亮点（解决庞大复杂模块的关键痛点）

1. **解耦而不分散**：场型/维度/材料/边界/IO/后处理解耦为独立模块，但通过统一接口与架构底座联动，避免功能分散与代码冗余；

2. **Maxwell全兼容**：从材料/边界/Project文件/后处理完全对齐Maxwell，降低用户迁移与使用成本，面向工程用户而非纯研发；

3. **框架深度融合**：所有功能均基于现有有限元框架展开，不重复实现底层逻辑，提升开发效率与模块稳定性；

4. **工程化优先**：提供默认参数/可视化/自动化/批量处理，屏蔽底层有限元细节，让用户聚焦工程设计；

5. **可扩展无重构**：预留高频/多物理场/优化接口，新增功能仅需新增模块，无需修改现有核心架构。
> （注：文档部分内容可能由 AI 生成）